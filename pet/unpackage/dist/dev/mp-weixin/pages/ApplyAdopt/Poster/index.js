"use strict";var e=require("../../../common/vendor.js"),x=require("../../../uni_modules/sakura-canvas/js_sdk/index.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/text.js");require("../../../uni_modules/sakura-canvas/js_sdk/utils/util.js");require("../../../uni_modules/sakura-canvas/js_sdk/plugins/image-tools.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/line.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/rect.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/arc.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/image.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/triangle.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/qrcode.js");require("../../../uni_modules/sakura-canvas/js_sdk/plugins/qrcodeAlg.js");require("../../../uni_modules/sakura-canvas/js_sdk/methods/canvas.js");require("../../../uni_modules/sakura-canvas/js_sdk/utils/common.js");Math||q();const q=()=>"../../../components/u-show-poster/u-show-poster.js",I=e.defineComponent({__name:"index",props:{petInfo:{type:Object,required:!0}},setup(p){const m=p,{petInfo:s}=e.toRefs(m),{ctx:l}=e.getCurrentInstance(),r="poster",g=e.reactive({width:"600rpx",height:"1000rpx"}),o=e.ref(!1),u=e.ref("");let t=null;const _=()=>{t=new x.DrawPoster({width:600,height:1e3,canvasId:r,_this:l,unit:"rpx",type:"default",background:{type:"color",color:"#fff"},drawDelayTime:200,exportImageDelayTime:600}),t.$on("init",async()=>{await t.drawBackground()})},c=e.reactive({image:"",petImg:"",petName:"",petAge:"",city:"",story:""});setTimeout(()=>{const a=e.reactive({image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-f46f8a1d-9332-4f0e-9666-910073387c9b/36038397-4ec7-4037-a639-4749ae6cd106.png",petImg:s.value.img[0].url,petName:"\u6211\u53EB"+s.value.pet_name,petAge:"\u6211\u4ECA\u5E74"+s.value.age+"\u4E86",city:"\u6211\u5728"+s.value.city[0]+s.value.city[1]+s.value.city[2],story:s.value.story});Object.assign(c,a)},1e3);const v=async()=>{const{image:a,petImg:i,petName:n,petAge:y,city:h,story:k}=c,d=await t.drawPoster(({ctxObj:f,bgObj:C})=>{const{width:w,height:j}=f;return[{name:"background",type:"rect",w,h:j,color:"#ffffff",shadow:{show:!1,blur:30,color:"rgba(0, 0, 0, .15)"}},{unit:"rpx",type:"image",drawType:"rect",src:a,h:1e3,w:600,mode:"aspectFill"},{unit:"rpx",type:"image",drawType:"rect",src:i,windowAlign:"center",y:155,h:315,w:370},{type:"text",text:n,y:550,x:50,font:{size:25,weight:900}},{type:"text",text:y,y:550,x:350,font:{size:25,weight:900}},{type:"text",text:h,w:650,y:600,x:50,font:{size:25,weight:900}},{type:"text",text:k,y:650,x:35,w:560,font:{size:25,weight:900},LineHeight:{height:35}}]});!d.success||(o.value=!0,u.value=d.data)};return e.onMounted(()=>{_()}),(a,i)=>({a:e.o(v),b:r,c:r,d:e.s(g),e:e.o(n=>o.value=n),f:e.p({image:u.value,modelValue:o.value})})}});var b=e._export_sfc(I,[["__scopeId","data-v-4d441e98"],["__file","C:/Users/yzc/Desktop/pet/pages/ApplyAdopt/Poster/index.vue"]]);wx.createComponent(b);
