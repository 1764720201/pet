"use strict";var e=require("../../../common/vendor.js");Array||e.resolveComponent("uni-icons")();const l=()=>"../../../uni_modules/uni-icons/components/uni-icons/uni-icons.js";Math||(l+e.unref(p))();const p=()=>"../../../components/PetList/index.js",f=e.defineComponent({__name:"index",setup(c){const o=e.ref(),a=e.pn.database(),t=e.reactive({avatarFile:{url:""},nickname:"",introduction:"",_id:""}),s=e.ref(0),r=e.ref(0);e.onLoad(n=>{o.value=`user_id=='${n.userId}'`,a.collection("uni-id-users").where(`_id=='${n.userId}'`).field("avatar_file as avatarFile,nickname,introduction").get().then(i=>{Object.assign(t,i.result.data[0])}),a.collection("adoption").where(`user_id=='${n.userId}'`).field("if_adopt").get().then(i=>{i.result.data.forEach(_=>{_.if_adopt==!1?s.value++:r.value++})})});const u=e.pn.getCurrentUserInfo().uid,d=()=>{t._id==u?e.index.showToast({title:"\u4F60\u4E0D\u80FD\u79C1\u4FE1\u81EA\u5DF1"}):e.index.navigateTo({url:`/pages/Chat/index?id=${t._id}`})};return(n,i)=>e.e({a:t.avatarFile.url,b:t.avatarFile.url,c:e.t(t.nickname),d:t.introduction},t.introduction?{e:e.t(t.introduction)}:{},{f:e.p({type:"chat",size:20,color:"white"}),g:e.o(d),h:e.t(s.value),i:e.t(r.value),j:e.p({where:o.value})})}});var v=e._export_sfc(f,[["__scopeId","data-v-69b51880"],["__file","C:/Users/yzc/Desktop/pet/pages/ApplyAdopt/UserInfo/index.vue"]]);wx.createPage(v);
