"use strict";var e=require("../../common/vendor.js");Math||(o+u)();const o=()=>"./Received/index.js",u=()=>"./News/index.js",c=e.defineComponent({__name:"index",setup(d){const i=e.ref(),s=e.pn.database(),a=e.ref(!1),t=async()=>{await s.collection("uni-id-users").where("_id==$cloudEnv_uid").get({getOne:!0}).then(n=>{i.value=n.result.data._id,a.value=!0}).catch(()=>{a.value=!1})};return e.onShow(async()=>{s.collection("chat").where("to_uid==$cloudEnv_uid&&is_read==false").count().then(n=>{n.result.total||e.index.removeTabBarBadge({index:3})}),await t(),a.value||e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=weixin"})}),(n,l)=>({a:e.p({hasLogin:a.value,userId:i.value}),b:e.p({hasLogin:a.value,userId:i.value})})}});var r=e._export_sfc(c,[["__file","C:/Users/yzc/Desktop/pet/pages/Message/index.vue"]]);wx.createPage(r);
