"use strict";var e=require("../../../../../common/vendor.js");Array||e.resolveComponent("uni-icons")();const _=()=>"../../../../../uni_modules/uni-icons/components/uni-icons/uni-icons.js";Math||_();const p=e.defineComponent({__name:"index",setup(l){const t=e.reactive({title:"",watch:0,content:[],main:"",image:"",_id:""}),r=e.pn.getCurrentUserInfo().uid,c=e.pn.database(),u=()=>{n.value?c.collection("collect").where(`knowledge_id=='${t._id}'&&type==${2}`).remove().then(()=>{i()}):e.pn.callFunction({name:"collect",data:{userId:r,type:2,knowledgeId:t._id},success(){e.index.showToast({title:"\u6536\u85CF\u6210\u529F"}),i()}})},n=e.ref(),i=async()=>{await c.collection("collect").where(`knowledge_id=='${t._id}'&&type==${2}`).get({getOne:!0}).then(o=>{o.result.data?n.value=!0:n.value=!1})};return e.onLoad(o=>{c.collection("petKnowledge").where(`_id=='${o.knowledgeId}'`).get({getOne:!0}).then(a=>{Object.assign(t,a.result.data)}).then(()=>{i()})}),(o,a)=>e.e({a:e.t(t.title),b:e.p({type:"eye",size:"18",color:"#666"}),c:e.t(t.watch),d:e.p({type:"star",size:"20",color:n.value?"#e6612c":"#666"}),e:!n.value},n.value?{}:{},{f:e.o(u),g:e.t(t.main),h:t.image,i:e.f(t.content,(s,d,m)=>({a:e.t(s[0]),b:e.t(s[1]),c:d}))})}});var g=e._export_sfc(p,[["__scopeId","data-v-31a5ace8"],["__file","C:/Users/yzc/Desktop/pet/pages/Home/Knowledge/PopularizationOfScience/Knowledge/index.vue"]]);wx.createPage(g);
