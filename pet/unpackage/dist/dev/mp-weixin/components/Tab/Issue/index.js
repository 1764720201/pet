"use strict";var e=require("../../../common/vendor.js");if(!Array){const d=e.resolveComponent("unicloud-db"),f=e.resolveComponent("uni-icons"),m=e.resolveComponent("uni-load-more"),o=e.resolveComponent("tui-actionsheet");(d+f+m+o)()}const A=()=>"../../../node-modules/@dcloudio/uni-components/lib/unicloud-db/unicloud-db.js",C=()=>"../../../uni_modules/uni-icons/components/uni-icons/uni-icons.js",D=()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js",k=()=>"../../../node-modules/thorui-uni/lib/thorui/tui-actionsheet/tui-actionsheet.js";Math||(A+C+D+k)();const j=e.defineComponent({__name:"index",props:{where:{type:String,required:!0}},setup(d){const f=d,{where:m}=e.toRefs(f),o=e.ref(null),a=e.ref(!1),h=()=>{a.value=!1},i=e.ref(),b=u=>{i.value=u,a.value=!0},y=e.reactive([{text:"\u653E\u5F03",color:"#2B2B2B"},{text:"\u5DF2\u88AB\u9886\u517B",color:"#2B2B2B"},{text:"\u53BB\u5206\u4EAB",color:"#ea7587"}]),B=u=>{switch(u.index){case 0:o.value.remove(i.value,{confirmContent:"\u4F60\u786E\u5B9A\u8981\u53D6\u6D88\u53D1\u5E03\u9886\u517B\u5417"});break;case 1:o.value.update(i.value,{if_adopt:!0},{toastTitle:"\u5DF2\u6210\u529F\u9001\u517B",success(){o.value.refresh(),a.value=!1}});break;case 2:e.index.navigateTo({url:`/pages/ApplyAdopt/index?id=${i.value}`});break}},x=u=>{e.index.navigateTo({url:`/pages/Issue/Adoption/index?id=${u}`})};return e.onPullDownRefresh(()=>{o.value.loadData(()=>{e.index.stopPullDownRefresh()})}),e.onReachBottom(()=>{o.value.loadMore()}),(u,F)=>({a:e.w(({data:w,pagination:$,loading:s,error:_,hasMore:r},g,n)=>e.e({a:_},_?{b:e.t(_.message)}:e.e({c:e.f(w,(t,E,l)=>({a:t.img[0].path,b:e.t(t.pet_name),c:e.w(({data:c},p,v)=>({a:e.t(c.length),b:v,c:p}),{name:"d",path:"a["+n+"]."+("c["+l+"].")+"c",vueId:"0f2276f7-1-"+n+"-"+l+",0f2276f7-0"}),d:"0f2276f7-1-"+n+"-"+l+",0f2276f7-0",e:e.p({where:`adopt_id=='${t._id}'`,collection:"comment"}),f:e.f(t.medical,(c,p,v)=>({a:e.t(c)})),g:e.o(c=>x(t._id)),h:e.o(c=>b(t._id)),i:"0f2276f7-2-"+n+"-"+l+",0f2276f7-0",j:t._id})),d:e.p({type:"more-filled",size:"30",color:"#b4b4b4"}),e:s},s?{f:"0f2276f7-3-"+n+",0f2276f7-0",g:e.p({status:"loading"})}:{},{h:r&&!s},r&&!s?{i:"0f2276f7-4-"+n+",0f2276f7-0",j:e.p({status:"more"})}:!r&&!s?{l:"0f2276f7-5-"+n+",0f2276f7-0",m:e.p({status:"noMore"})}:{},{k:!r&&!s}),{n,o:g}),{name:"d",path:"a",vueId:"0f2276f7-0"}),b:e.sr(o,"0f2276f7-0",{k:"udb"}),c:e.p({collection:"adoption",orderby:"issue_time desc",getone:!1,field:"_id,pet_name,img,if_adopt,medical",where:e.unref(m),["page-size"]:5}),d:e.o(h),e:e.o(B),f:e.p({show:a.value,["item-list"]:y})})}});var I=e._export_sfc(j,[["__scopeId","data-v-0f2276f7"],["__file","C:/Users/yzc/Desktop/pet/components/Tab/Issue/index.vue"]]);wx.createComponent(I);
