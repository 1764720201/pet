"use strict";var e=require("../../common/vendor.js");Array||e.resolveComponent("uni-icons")();const y=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js";Math||y();const C=e.defineComponent({__name:"index",props:{userId:{type:String,required:!0},wxCode:{type:String,required:!0},phone:{type:String,required:!0},avatarUrl:{type:String,required:!0},nickname:{type:String,required:!0},title:{type:String,required:!0}},setup(o){const c=o,{userId:t,wxCode:l,phone:d,avatarUrl:p,nickname:f,title:_}=e.toRefs(c),a=e.ref("\u6682\u65E0"),r=e.ref(0),u=e.ref(0),v=()=>{e.index.makePhoneCall({phoneNumber:d.value})},h=()=>{e.index.setClipboardData({data:l.value,success:function(){e.index.showToast({title:"\u6210\u529F\u590D\u5236\u5FAE\u4FE1\u53F7"})}})},i=e.pn.database(),m=()=>{e.index.navigateTo({url:`/pages/ApplyAdopt/UserInfo/index?userId=${t.value}`})};e.watch(()=>t.value,()=>{i.collection("adoption").where(`user_id=='${t.value}'`).field("if_adopt").get().then(n=>{n.result.data.forEach(s=>{s.if_adopt==!1?r.value++:u.value++})}).then(()=>{i.collection("uni-id-users").where(`_id=='${t.value}'`).field("label").get({getOne:!0}).then(n=>{n.result.data.label&&(a.value=n.result.data.label)})})});const g=e.pn.getCurrentUserInfo().uid,x=()=>{t.value==g?e.index.showToast({title:"\u4E0D\u80FD\u81EA\u6211\u54A8\u8BE2",icon:"none"}):e.index.navigateTo({url:`/pages/Chat/index?id=${t.value}`})};return(n,s)=>({a:e.t(e.unref(_)),b:e.unref(p),c:e.o(m),d:e.t(e.unref(f)),e:e.t(a.value),f:e.t(r.value),g:e.t(u.value),h:e.p({type:"chat",size:22,color:"white"}),i:e.o(x),j:e.o(v),k:e.o(h)})}});var w=e._export_sfc(C,[["__scopeId","data-v-955e774e"],["__file","C:/Users/yzc/Desktop/pet/components/AuthorInformation/index.vue"]]);wx.createComponent(w);
