"use strict";class F{constructor(b){const{Context:w,commonUtilMethods:e,commonDrawMethods:u}=b;this.Context=w,this.commonUtilMethods=e,this.commonDrawMethods=u}getDrawParams(b={},w=!0){const e=this.commonUtilMethods.getGlobalDataDrawParams(b);return w?this.commonUtilMethods.conversionUnit(e):e}draw(b={},w=!0){const{Context:e,commonUtilMethods:u,commonDrawMethods:s}=this,{canvasWidth:S,is2d:L,pxToRpx:y,unit:P}=u;let{x:i,y:c,w:d,h:f,r:t,color:g,alpha:I,isFill:U,lineWidth:T,windowAlign:k,rotate:M,drawImage:p,borderColor:v,borderWidth:x,borderType:h,shadow:l,gradient:D,offsetRight:C}=this.getDrawParams(b,w);g==="black"&&(g="#ffffff"),typeof t=="number"&&t*2>f&&(t=f/2),k!=="none"&&(i=s.computedCenterX(S,d,k,C)||i),!p&&M.deg&&(e.save(),s.setRotate(i,c,d,f,M)),p&&l.show&&s.setShadow(l.x,l.y,l.blur,l.color),!p&&l.show&&s.setShadow(l.x,l.y,l.blur,l.color),e.beginPath(),s.setAlpha(I);let n=0,o=0,a=0,r=0;if(typeof t=="object"){const m=t.length;m===1&&(o=t[0],n=t[0],a=t[0],r=t[0]),m===2&&(o=t[0],n=t[1],a=t[0],r=t[1]),m===3&&(o=t[0],n=t[1],a=t[2],r=t[1]),m===4&&(o=t[0],n=t[1],a=t[2],r=t[3])}else if(typeof h=="string")switch(h){case"tr":n=t;break;case"tl":o=t;break;case"br":a=t;break;case"bl":r=t;break;default:n=t,o=t,a=t,r=t}else h instanceof Array&&typeof t=="number"&&(h.includes("tr")&&(n=t),h.includes("tl")&&(o=t),h.includes("br")&&(a=t),h.includes("bl")&&(r=t),h.includes("default")&&(n=t,o=t,a=t,r=t));if(e.lineTo(i+o,c),e.arc(i+d-n,c+n,n,Math.PI*1.5,0,!1),e.lineTo(i+d,c+f-a),e.arc(i+d-a,c+f-a,a,0,Math.PI*.5,!1),e.lineTo(i+r,c+f),e.arc(i+r,c+f-r,r,Math.PI*.5,Math.PI,!1),e.lineTo(i,c+o),e.arc(i+o,c+o,o,Math.PI*1,Math.PI*1.5,!1),e.closePath(),U){if(x!=0&&(s.setLineWidth(x),s.setStrokeStyle(v),e.stroke()),D.show){const{type:m="linear",relative:R,position:W,colors:A}=D;g=u.getGradient(m,R,u.conversionUnit(W),A,{x:i,y:c})}p||(s.setFillStyle(g),e.fill())}else s.setLineWidth(T),s.setStrokeStyle(g),e.stroke();return s.setAlpha(1),!p&&M.deg&&e.restore(),l.show&&s.setShadow(0,0,0,"black"),{success:!0,w:P==="rpx"?y(d):d,h:P==="rpx"?y(f):f}}}exports.DrawRect=F;
