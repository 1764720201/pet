"use strict";function s(e){return new Promise(function(r,n){if(typeof window=="object"&&"document"in window){e=e.split(",");for(var l=e[0].match(/:(.*?);/)[1],c=atob(e[1]),o=c.length,w=new Uint8Array(o);o--;)w[o]=c.charCodeAt(o);return r((window.URL||window.webkitURL).createObjectURL(new Blob([w],{type:l})))}var i=e.match(/data\:\S+\/(\S+);/);i?i=i[1]:n(new Error("base64 error"));var u=Date.now()+"."+i;if(typeof plus=="object"){var a=new plus.nativeObj.Bitmap("bitmap"+Date.now());a.loadBase64Data(e,function(){var t="_doc/uniapp_temp/"+u;a.save(t,{},function(){a.clear(),r(t)},function(d){a.clear(),n(d)})},function(t){a.clear(),n(t)});return}if(typeof wx=="object"&&wx.canIUse("getFileSystemManager")){var f=wx.env.USER_DATA_PATH+"/"+u;wx.getFileSystemManager().writeFile({filePath:f,data:e.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){r(f)},fail:function(t){n(t)}});return}n(new Error("not support"))})}exports.base64ToPath=s;
