"use strict";var e=require("../../../../../common/vendor.js");const c={data(){return{formData:{mobile:"",code:"",captcha:""},focusMobile:!0}},computed:{tipText(){return`\u9A8C\u8BC1\u7801\u5DF2\u901A\u8FC7\u77ED\u4FE1\u53D1\u9001\u81F3 ${this.formData.mobile}\u3002\u5BC6\u7801\u4E3A6 - 20\u4F4D`}},onLoad(t){},onReady(){},methods:{submit(){if(!/^1\d{10}$/.test(this.formData.mobile))return this.focusMobile=!0,e.index.showToast({title:"\u624B\u673A\u53F7\u7801\u683C\u5F0F\u4E0D\u6B63\u786E",icon:"none"});if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsForm.focusSmsCodeInput=!0,e.index.showToast({title:"\u9A8C\u8BC1\u7801\u683C\u5F0F\u4E0D\u6B63\u786E",icon:"none"});console.log(this.formData),e.pn.importObject("uni-id-co").bindMobileBySms(this.formData).then(o=>{console.log(o),e.index.showToast({title:o.errMsg,icon:"none"}),this.getOpenerEventChannel().emit("getUserInfo"),e.index.navigateBack()}).catch(o=>{console.log(o),o.errCode=="uni-id-captcha-required"&&this.$refs.popup.open()}).finally(o=>{this.formData.captcha=""})}}};if(!Array){const t=e.resolveComponent("uni-easyinput"),o=e.resolveComponent("uni-id-pages-sms-form"),i=e.resolveComponent("uni-popup-captcha");(t+o+i)()}const r=()=>"../../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js",u=()=>"../../../components/uni-id-pages-sms-form/uni-id-pages-sms-form.js",m=()=>"../../../../uni-captcha/components/uni-popup-captcha/uni-popup-captcha.js";Math||(r+u+m)();function p(t,o,i,f,n,a){return{a:e.o(s=>n.focusMobile=!1),b:e.o(s=>n.formData.mobile=s),c:e.p({clearable:!0,focus:n.focusMobile,type:"number",inputBorder:!1,maxlength:"11",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",modelValue:n.formData.mobile}),d:e.sr("smsForm","5e4bb6dc-1"),e:e.o(s=>n.formData.code=s),f:e.p({type:"bind-mobile-by-sms",phone:n.formData.mobile,modelValue:n.formData.code}),g:e.o((...s)=>a.submit&&a.submit(...s)),h:e.sr("popup","5e4bb6dc-2"),i:e.o(a.submit),j:e.o(s=>n.formData.captcha=s),k:e.p({scene:"bind-mobile-by-sms",modelValue:n.formData.captcha})}}var l=e._export_sfc(c,[["render",p],["__file","C:/Users/yzc/Desktop/pet/uni_modules/uni-id-pages/pages/userinfo/bind-mobile/bind-mobile.vue"]]);wx.createPage(l);
