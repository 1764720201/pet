"use strict";var n=require("../../common/vendor.js"),c=require("./config.js");const s=n.pn.importObject("uni-id-co",{customUI:!0}),{loginTypes:l,debug:u}=c.config;async function a(){if(u){let{supportedLoginType:o}=await s.getSupportedLoginType();console.log("supportedLoginType: "+JSON.stringify(o));let e={smsCode:"mobile-code",univerify:"univerify",username:"username-password",weixin:"weixin",qq:"qq",xiaomi:"xiaomi",sinaweibo:"sinaweibo",taobao:"taobao",facebook:"facebook",google:"google",alipay:"alipay",apple:"apple"},i=l.filter(r=>!o.includes(e[r]));i.length&&console.error(`\u9519\u8BEF\uFF1A\u524D\u7AEF\u542F\u7528\u7684\u767B\u5F55\u65B9\u5F0F:${i.join("\uFF0C")};\u6CA1\u6709\u5728\u670D\u52A1\u7AEF\u5B8C\u6210\u914D\u7F6E\u3002\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84\uFF1A"/uni_modules/uni-config-center/uniCloud/cloudfunctions/common/uni-config-center/uni-id/config.json"`)}n.pn.database().on("error",t);function t({code:o,message:e}){console.error("onDBError",{code:o,message:e})}n.pn.onRefreshToken&&n.pn.onRefreshToken(()=>{console.log("onRefreshToken"),n.index.getPushClientId&&n.index.getPushClientId({success:async function(o){console.log(o);let e=o.cid;console.log(e);let i=await s.setPushCid({pushClientId:e});console.log("getPushClientId",i)},fail(o){console.log(o)}})})}exports.uniIdPageInit=a;
