"use strict";var n=require("../../../../common/vendor.js");const h={name:"uniCollapseItem",props:{title:{type:String,default:""},name:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!0},open:{type:Boolean,default:!1},thumb:{type:String,default:""},titleBorder:{type:String,default:"auto"},border:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0}},data(){const e=`Uni_${Math.ceil(Math.random()*1e6).toString(36)}`;return{isOpen:!1,isheight:null,height:0,elId:e,nameSync:0}},watch:{open(e){this.isOpen=e,this.onClick(e,"init")}},updated(e){this.$nextTick(()=>{this.init(!0)})},created(){this.collapse=this.getCollapse(),this.oldHeight=0,this.onClick(this.open,"init")},unmounted(){this.__isUnmounted=!0,this.uninstall()},mounted(){!this.collapse||(this.name!==""?this.nameSync=this.name:this.nameSync=this.collapse.childrens.length+"",this.collapse.names.indexOf(this.nameSync)===-1?this.collapse.names.push(this.nameSync):console.warn(`name \u503C ${this.nameSync} \u91CD\u590D`),this.collapse.childrens.indexOf(this)===-1&&this.collapse.childrens.push(this),this.init())},methods:{init(e){this.getCollapseHeight(e)},uninstall(){this.collapse&&(this.collapse.childrens.forEach((e,i)=>{e===this&&this.collapse.childrens.splice(i,1)}),this.collapse.names.forEach((e,i)=>{e===this.nameSync&&this.collapse.names.splice(i,1)}))},onClick(e,i){this.disabled||(this.isOpen=e,this.isOpen&&this.collapse&&this.collapse.setAccordion(this),i!=="init"&&this.collapse.onChange(e,this))},getCollapseHeight(e,i=0){n.index.createSelectorQuery().in(this).select(`#${this.elId}`).fields({size:!0},l=>{if(!(i>=10)){if(!l){i++,this.getCollapseHeight(!1,i);return}this.height=l.height,this.isheight=!0,!e&&this.onClick(this.isOpen,"init")}}).exec()},getNvueHwight(e){dom.getComponentRect(this.$refs["collapse--hook"],i=>{if(i&&i.result&&i.size){if(this.height=i.size.height,this.isheight=!0,e)return;this.onClick(this.open,"init")}})},getCollapse(e="uniCollapse"){let i=this.$parent,t=i.$options.name;for(;t!==e;){if(i=i.$parent,!i)return!1;t=i.$options.name}return i}}};Array||n.resolveComponent("uni-icons")();const a=()=>"../../../uni-icons/components/uni-icons/uni-icons.js";Math||a();function c(e,i,t,l,s,o){return n.e({a:t.thumb},t.thumb?{b:t.thumb}:{},{c:n.t(t.title),d:t.disabled?1:"",e:t.showArrow},t.showArrow?{f:n.p({color:t.disabled?"#ddd":"#bbb",size:"14",type:"bottom"}),g:s.isOpen?1:"",h:t.showAnimation===!0?1:""}:{},{i:n.o(u=>o.onClick(!s.isOpen)),j:s.isOpen&&t.titleBorder==="auto"?1:"",k:t.titleBorder!=="none"?1:"",l:s.elId,m:s.isheight?1:"",n:t.border&&s.isOpen?1:"",o:t.showAnimation?1:"",p:(s.isOpen?s.height:0)+"px"})}var r=n._export_sfc(h,[["render",c],["__file","C:/Users/yzc/Desktop/pet/uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue"]]);wx.createComponent(r);
