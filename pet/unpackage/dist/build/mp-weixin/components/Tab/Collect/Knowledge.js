"use strict";var e=require("../../../common/vendor.js");if(!Array){e.resolveComponent("unicloud-db")()}Math;const n=e.defineComponent({__name:"Knowledge",setup(n){const o=e.ref(),d=e.pn.database(),t=e.pn.getCurrentUserInfo().uid;return(n,a)=>({a:e.w((({data:n,loading:t,error:a,options:i},l,r)=>({a:e.f(n,((n,t,a)=>({a:e.w((({data:n,loading:o,error:d,options:t},a,i)=>({a:null==n?void 0:n.image,b:e.t(null==n?void 0:n.title),c:e.t(null==n?void 0:n.main),d:i,e:a})),{name:"d",path:"a["+r+"].a["+a+"].a",vueId:"642c99ff-1-"+r+"-"+a+",642c99ff-0"}),b:"642c99ff-1-"+r+"-"+a+",642c99ff-0",c:e.p({collection:"petKnowledge",where:`_id=='${null==n?void 0:n.knowledge_id}'`,getone:!0}),d:n._id,e:e.o((t=>{return a=n.knowledge_id,void e.index.navigateTo({url:`/pages/Home/Knowledge/PopularizationOfScience/Knowledge/index?knowledgeId=${a}`,success(){d.collection("petKnowledge").where(`_id=='${a}'`).get({getOne:!0}).then((e=>{o.value=e.result.data.watch})).then((async()=>{await d.collection("petKnowledge").where(`_id=='${a}'`).update({watch:o.value+1})}))}});var a}),n._id)}))),b:r,c:l})),{name:"d",path:"a",vueId:"642c99ff-0"}),b:e.p({collection:"collect",where:`user_id=='${e.unref(t)}'&&type==2`,field:"knowledge_id,_id"})})}});var o=e._export_sfc(n,[["__scopeId","data-v-642c99ff"]]);wx.createComponent(o);
