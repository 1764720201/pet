"use strict";var e=require("../../../../common/vendor.js"),i=require("../../config.js"),n=require("../../common/login-page.mixin.js");require("../../common/loginSuccess.js");const o={mixins:[n.mixin],data:()=>({type:"",phone:"",focusPhone:!1,logo:"/static/logo.jpeg"}),computed:{loginTypes:async()=>i.config.loginTypes,isPhone(){return/^1\d{10}$/.test(this.phone)},imgSrc(){return"/uni_modules/uni-id-pages/static/login/"+this.type+".png"}},async onLoad(i){console.log(i);let n=i.type;this.type=n,"univerify"!=n&&(this.focusPhone=!0),this.$nextTick((()=>{["weixin","apple"].includes(n)&&(this.$refs.uniFabLogin.servicesList=this.$refs.uniFabLogin.servicesList.filter((e=>e.id!=n)))})),e.index.$on("uni-id-pages-set-login-type",(e=>{this.type=e}))},onShow(){},onUnload(){e.index.$off("uni-id-pages-set-login-type")},onReady(){},methods:{quickLogin(){this.$refs.uniFabLogin.login_before(this.type)},toSmsPage(){return console.log("toSmsPage",this.agree),this.isPhone?this.needAgreements&&!this.agree?this.$refs.agreements.popup(this.toSmsPage):void e.index.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-smscode?phoneNumber="+this.phone}):(this.focusPhone=!0,e.index.showToast({title:"手机号码格式不正确",icon:"none"}))},toPwdLogin(){e.index.navigateTo({url:"../login/password"})},chooseArea(){e.index.showToast({title:"暂不支持其他国家",icon:"none"})}}};if(!Array){(e.resolveComponent("uni-id-pages-agreements")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-id-pages-fab-login"))()}Math||((()=>"../../components/uni-id-pages-agreements/uni-id-pages-agreements.js")+(()=>"../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../components/uni-id-pages-fab-login/uni-id-pages-fab-login.js"))();var s=e._export_sfc(o,[["render",function(i,n,o,s,t,a){return e.e({a:t.logo,b:["apple","weixin"].includes(t.type)},["apple","weixin"].includes(t.type)?{c:e.o(((...e)=>a.quickLogin&&a.quickLogin(...e))),d:a.imgSrc,e:e.sr("agreements","4947ebc2-0"),f:e.p({scope:"register"})}:{g:e.o(((...e)=>a.chooseArea&&a.chooseArea(...e))),h:e.o((e=>t.focusPhone=!1)),i:e.o((e=>t.phone=e)),j:e.p({focus:t.focusPhone,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:t.phone}),k:e.sr("agreements","4947ebc2-2"),l:e.p({scope:"register"}),m:e.o(((...e)=>a.toSmsPage&&a.toSmsPage(...e)))},{n:e.sr("uniFabLogin","4947ebc2-3")})}],["__scopeId","data-v-4947ebc2"]]);wx.createPage(s);
