"use strict";var o=require("../../../../../common/vendor.js");const e={data:()=>({formData:{mobile:"",code:"",captcha:""},focusMobile:!0}),computed:{tipText(){return`验证码已通过短信发送至 ${this.formData.mobile}。密码为6 - 20位`}},onLoad(o){},onReady(){},methods:{submit(){if(!/^1\d{10}$/.test(this.formData.mobile))return this.focusMobile=!0,o.index.showToast({title:"手机号码格式不正确",icon:"none"});if(!/^\d{6}$/.test(this.formData.code))return this.$refs.smsForm.focusSmsCodeInput=!0,o.index.showToast({title:"验证码格式不正确",icon:"none"});console.log(this.formData);o.pn.importObject("uni-id-co").bindMobileBySms(this.formData).then((e=>{console.log(e),o.index.showToast({title:e.errMsg,icon:"none"});this.getOpenerEventChannel().emit("getUserInfo"),o.index.navigateBack()})).catch((o=>{console.log(o),"uni-id-captcha-required"==o.errCode&&this.$refs.popup.open()})).finally((o=>{this.formData.captcha=""}))}}};if(!Array){(o.resolveComponent("uni-easyinput")+o.resolveComponent("uni-id-pages-sms-form")+o.resolveComponent("uni-popup-captcha"))()}Math||((()=>"../../../../uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../components/uni-id-pages-sms-form/uni-id-pages-sms-form.js")+(()=>"../../../../uni-captcha/components/uni-popup-captcha/uni-popup-captcha.js"))();var t=o._export_sfc(e,[["render",function(e,t,a,i,n,s){return{a:o.o((o=>n.focusMobile=!1)),b:o.o((o=>n.formData.mobile=o)),c:o.p({clearable:!0,focus:n.focusMobile,type:"number",inputBorder:!1,maxlength:"11",placeholder:"请输入手机号",modelValue:n.formData.mobile}),d:o.sr("smsForm","5e4bb6dc-1"),e:o.o((o=>n.formData.code=o)),f:o.p({type:"bind-mobile-by-sms",phone:n.formData.mobile,modelValue:n.formData.code}),g:o.o(((...o)=>s.submit&&s.submit(...o))),h:o.sr("popup","5e4bb6dc-2"),i:o.o(s.submit),j:o.o((o=>n.formData.captcha=o)),k:o.p({scene:"bind-mobile-by-sms",modelValue:n.formData.captcha})}}]]);wx.createPage(t);
