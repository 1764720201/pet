"use strict";exports.base64ToPath=function(e){return new Promise((function(t,a){if("object"==typeof window&&"document"in window){for(var n=(e=e.split(","))[0].match(/:(.*?);/)[1],o=atob(e[1]),r=o.length,i=new Uint8Array(r);r--;)i[r]=o.charCodeAt(r);return t((window.URL||window.webkitURL).createObjectURL(new Blob([i],{type:n})))}var c=e.match(/data\:\S+\/(\S+);/);c?c=c[1]:a(new Error("base64 error"));var s=Date.now()+"."+c;if("object"!=typeof plus)if("object"==typeof wx&&wx.canIUse("getFileSystemManager")){var w=wx.env.USER_DATA_PATH+"/"+s;wx.getFileSystemManager().writeFile({filePath:w,data:e.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){t(w)},fail:function(e){a(e)}})}else a(new Error("not support"));else{var f=new plus.nativeObj.Bitmap("bitmap"+Date.now());f.loadBase64Data(e,(function(){var e="_doc/uniapp_temp/"+s;f.save(e,{},(function(){f.clear(),t(e)}),(function(e){f.clear(),a(e)}))}),(function(e){f.clear(),a(e)}))}}))};
