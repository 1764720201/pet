"use strict";var e=require("../../../../../common/vendor.js");if(!Array){e.resolveComponent("uni-icons")()}Math;const t=e.defineComponent({__name:"index",setup(t){const n=e.reactive({title:"",watch:null,content:[],main:"",image:"",_id:""}),a=e.pn.getCurrentUserInfo().uid,o=e.pn.database(),c=()=>{l.value?o.collection("collect").where(`knowledge_id=='${n._id}'&&type==2`).remove().then((()=>{i()})):e.pn.callFunction({name:"collect",data:{userId:a,type:2,knowledgeId:n._id},success(){e.index.showToast({title:"收藏成功"}),i()}})},l=e.ref(),i=async()=>{await o.collection("collect").where(`knowledge_id=='${n._id}'&&type==2`).get({getOne:!0}).then((e=>{e.result.data?l.value=!0:l.value=!1}))};return e.onLoad((e=>{o.collection("petKnowledge").where(`_id=='${e.knowledgeId}'`).get({getOne:!0}).then((e=>{Object.assign(n,e.result.data)})).then((()=>{i()}))})),(t,a)=>e.e({a:e.t(n.title),b:e.p({type:"eye",size:"18",color:"#666"}),c:e.t(n.watch),d:e.p({type:"star",size:"20",color:l.value?"#e6612c":"#666"}),e:!l.value},(l.value,{}),{f:e.o(c),g:e.t(n.main),h:n.image,i:e.f(n.content,((t,n,a)=>({a:e.t(t[0]),b:e.t(t[1]),c:n})))})}});var n=e._export_sfc(t,[["__scopeId","data-v-04a00f77"]]);wx.createPage(n);
